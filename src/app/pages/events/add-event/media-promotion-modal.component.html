<div class="modal-header">
  <h5 class="modal-title">{{ isEditing ? 'Edit Media Details' : 'Add Media Details' }}</h5>
  <button type="button" class="btn-close" (click)="onClose()" aria-label="Close"></button>
</div>
<div class="modal-body">
  <form [formGroup]="mediaPromotionForm">
    <!-- Event Media Section -->
    <div class="row">
      <div class="col-md-6 mb-2">
        <label class="form-label">Media Coverage Type <span class="text-danger">*</span></label>
        <ng-select formControlName="mediaCoverageType"
          [items]="mediaTypes"
          [searchable]="true"
          [clearable]="true"
          placeholder="Select Media Coverage Type"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaCoverageType')?.invalid && mediaPromotionForm.get('mediaCoverageType')?.touched}">
        </ng-select>
        <div *ngIf="mediaPromotionForm.get('mediaCoverageType')?.invalid && mediaPromotionForm.get('mediaCoverageType')?.touched" class="invalid-feedback">
          Media coverage type is required
        </div>
        <small class="text-muted" *ngIf="mediaPromotionForm.get('mediaCoverageType')?.value === 'Electronic'" style="font-size: 0.875rem; margin-top: 0.25rem; display: block;">
          <i class="fas fa-info-circle me-1"></i>Suggestions: Radio, TV, etc.
        </small>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Company name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" formControlName="companyName" placeholder="Enter company name"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('companyName')?.invalid && mediaPromotionForm.get('companyName')?.touched}" />
        <div *ngIf="mediaPromotionForm.get('companyName')?.invalid && mediaPromotionForm.get('companyName')?.touched" class="invalid-feedback">
          Company name is required
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Company email <span class="text-danger">*</span></label>
        <input type="email" class="form-control" formControlName="companyEmail" placeholder="Enter company email"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('companyEmail')?.invalid && mediaPromotionForm.get('companyEmail')?.touched}" />
        <div *ngIf="mediaPromotionForm.get('companyEmail')?.invalid && mediaPromotionForm.get('companyEmail')?.touched" class="invalid-feedback">
          <span *ngIf="mediaPromotionForm.get('companyEmail')?.errors?.['required']">Company email is required</span>
          <span *ngIf="mediaPromotionForm.get('companyEmail')?.errors?.['email']">Please enter a valid email address</span>
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Company website</label>
        <input type="url" class="form-control" formControlName="companyWebsite" placeholder="Enter company website" />
      </div>
    </div>

    <!-- Provide Details of Media Person Section -->
    <div class="row">
      <div class="col-md-6 mb-2">
        <label class="form-label">Gender <span class="text-danger">*</span></label>
        <ng-select formControlName="mediaGender"
          [items]="['Male', 'Female', 'Other']"
          [searchable]="true"
          [clearable]="true"
          placeholder="Select Gender"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaGender')?.invalid && mediaPromotionForm.get('mediaGender')?.touched}">
        </ng-select>
        <div *ngIf="mediaPromotionForm.get('mediaGender')?.invalid && mediaPromotionForm.get('mediaGender')?.touched" class="invalid-feedback">
          Gender is required
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Prefix <span class="text-danger">*</span></label>
        <ng-select formControlName="mediaPrefix"
          [items]="['Mr.', 'Mrs.', 'Ms.', 'Dr.', 'Prof.', 'Shri', 'Smt.']"
          [searchable]="true"
          [clearable]="true"
          placeholder="Select Prefix"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaPrefix')?.invalid && mediaPromotionForm.get('mediaPrefix')?.touched}">
        </ng-select>
        <div *ngIf="mediaPromotionForm.get('mediaPrefix')?.invalid && mediaPromotionForm.get('mediaPrefix')?.touched" class="invalid-feedback">
          Prefix is required
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">First name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" formControlName="mediaFirstName" placeholder="Enter first name"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaFirstName')?.invalid && mediaPromotionForm.get('mediaFirstName')?.touched}" />
        <div *ngIf="mediaPromotionForm.get('mediaFirstName')?.invalid && mediaPromotionForm.get('mediaFirstName')?.touched" class="invalid-feedback">
          First name is required
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Middle name</label>
        <input type="text" class="form-control" formControlName="mediaMiddleName" placeholder="Enter middle name" />
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Last name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" formControlName="mediaLastName" placeholder="Enter last name"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaLastName')?.invalid && mediaPromotionForm.get('mediaLastName')?.touched}" />
        <div *ngIf="mediaPromotionForm.get('mediaLastName')?.invalid && mediaPromotionForm.get('mediaLastName')?.touched" class="invalid-feedback">
          Last name is required
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Designation</label>
        <input type="text" class="form-control" formControlName="mediaDesignation" placeholder="Enter designation" />
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Contact <span class="text-danger">*</span></label>
        <input type="text" class="form-control" formControlName="mediaContact" placeholder="Enter phone number"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaContact')?.invalid && mediaPromotionForm.get('mediaContact')?.touched}" />
        <div *ngIf="mediaPromotionForm.get('mediaContact')?.invalid && mediaPromotionForm.get('mediaContact')?.touched" class="invalid-feedback">
          Contact is required
        </div>
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Email <span class="text-danger">*</span></label>
        <input type="email" class="form-control" formControlName="mediaEmail" placeholder="Enter email"
          [ngClass]="{'is-invalid': mediaPromotionForm.get('mediaEmail')?.invalid && mediaPromotionForm.get('mediaEmail')?.touched}" />
        <div *ngIf="mediaPromotionForm.get('mediaEmail')?.invalid && mediaPromotionForm.get('mediaEmail')?.touched" class="invalid-feedback">
          <span *ngIf="mediaPromotionForm.get('mediaEmail')?.errors?.['required']">Email is required</span>
          <span *ngIf="mediaPromotionForm.get('mediaEmail')?.errors?.['email']">Please enter a valid email address</span>
        </div>
      </div>
    </div>

    <!-- Provide Details of Reference Person Section -->
    <!-- <div class="row">
      <div class="col-md-6 mb-2">
        <label class="form-label">Reference branch ID</label>
        <input type="text" class="form-control" formControlName="referenceBranchId" placeholder="Enter reference branch ID" />
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Reference volunteer ID</label>
        <input type="text" class="form-control" formControlName="referenceVolunteerId" placeholder="Enter reference volunteer ID" />
      </div>
      <div class="col-md-6 mb-2">
        <label class="form-label">Reference person's name</label>
        <input type="text" class="form-control" formControlName="referencePersonName" placeholder="Enter reference person's name" />
      </div>
    </div> -->
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-outline-secondary" (click)="onClose()">Cancel</button>
  <button type="button" class="btn btn-primary" (click)="onAddEventMedia()" 
    [disabled]="mediaPromotionForm.invalid"
    style="background: linear-gradient(135deg, #ff6b35, #f7931e); border: none;">
    {{ isEditing ? 'Update Event Media' : 'Add Event Media' }}
  </button>
</div>


