<div class="modal-header">
  <h5 class="modal-title">Special Guests</h5>
  <button type="button" class="btn-close" (click)="onClose()" aria-label="Close"></button>
</div>
<div class="modal-body">
  <form [formGroup]="specialGuestsForm">
    <div class="common-stepper">
      <h5 class="mb-3">Add Special Guests</h5>
      <div class="row g-3">
        <!-- Gender -->
        <div class="col-md-4">
          <label class="form-label">Gender</label>
          <select class="form-select" formControlName="guestGender">
            <option value="">Select</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>

        <!-- Prefix -->
        <div class="col-md-4">
          <label class="form-label">Prefix</label>
          <select class="form-select" formControlName="guestPrefix">
            <option value="">Select</option>
            <option>Mr.</option>
            <option>Mrs.</option>
            <option>Ms.</option>
          </select>
        </div>

        <!-- Names -->
        <div class="col-md-4">
          <label class="form-label">First name</label>
          <input type="text" class="form-control" formControlName="guestFirstName" />
        </div>
      </div>
      <div class="row g-3 mt-2">
        <div class="col-md-4">
          <label class="form-label">Middle name</label>
          <input type="text" class="form-control" formControlName="guestMiddleName" />
        </div>
        <div class="col-md-4">
          <label class="form-label">Last name</label>
          <input type="text" class="form-control" formControlName="guestLastName" />
        </div>
      </div>

      <div class="row g-3 mt-2">
        <!-- Designation -->
        <div class="col-md-4">
          <label class="form-label">Designation</label>
          <input type="text" class="form-control" formControlName="guestDesignation" placeholder="Enter designation" />
        </div>

        <!-- Organization -->
        <div class="col-md-4">
          <label class="form-label">Organization</label>
          <input type="text" class="form-control" formControlName="guestOrganization"
            placeholder="Enter organization" />
        </div>

        <!-- Email -->
        <div class="col-md-4">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" formControlName="guestEmail" placeholder="Enter email" />
        </div>
      </div>

      <div class="row g-3 mt-2">
        <!-- City -->
        <div class="col-md-4">
          <label class="form-label">City</label>
          <select class="form-select" formControlName="guestCity" [disabled]="filteredCities.length === 0">
            <option value="">{{ filteredCities.length === 0 ? 'Select State first' : 'Select' }}</option>
            <option *ngFor="let city of filteredCities" [value]="city.name">{{ city.name }}</option>
          </select>
        </div>

        <!-- State -->
        <div class="col-md-4">
          <label class="form-label">State</label>
          <select class="form-select" formControlName="guestState">
            <option value="">Select</option>
            <option *ngFor="let state of states" [value]="state">{{ state }}</option>
          </select>
        </div>

        <!-- Personal Number -->
        <div class="col-md-4">
          <label class="form-label">Personal number</label>
          <input type="text" class="form-control" formControlName="guestPersonalNumber" placeholder="Enter number" />
        </div>
      </div>
      <div class="row g-3 mt-2">
        <div class="col-md-4">
          <label class="form-label">Contact person</label>
          <input type="text" class="form-control" formControlName="guestContactPerson" />
        </div>
      </div>

      <div class="row g-3 mt-2">
        <!-- Contact Person -->
        <div class="col-md-4">
          <label class="form-label">Contact person's number</label>
          <input type="text" class="form-control" formControlName="guestContactPersonNumber" />
        </div>

        <!-- Reference Branch -->
        <div class="col-md-4">
          <label class="form-label">Reference branch ID</label>
          <input type="text" class="form-control" formControlName="guestReferenceBranchId" />
        </div>

        <!-- Reference Volunteer -->
        <div class="col-md-4">
          <label class="form-label">Reference volunteer ID</label>
          <input type="text" class="form-control" formControlName="guestReferenceVolunteerId" />
        </div>
      </div>
      <div class="row g-3 mt-2">
        <div class="col-md-4">
          <label class="form-label">Reference person name</label>
          <input type="text" class="form-control" formControlName="guestReferencePersonName" />
        </div>
      </div>

      <!-- Add Guest Button -->
      <div class="mt-3">
        <button class="btn btn-warning btn-sm" type="button" (click)="onAddSpecialGuest()">+ Add guest</button>
      </div>

      <!-- Special Guest Table -->
      <div class="table-responsive mt-3">
        <table class="table table-bordered align-middle">
          <thead>
            <tr>
              <th>Action</th>
              <th>Name (Phone no.)</th>
              <th>Gender</th>
              <th>Designation</th>
              <th>Organization</th>
              <th>Email</th>
              <th>City, State</th>
              <th>Personal no.</th>
              <th>Contact Person (Phone no.)</th>
              <th>Reference Person (Phone no.)</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let guest of specialGuests; let i = index">
              <td><button class="btn btn-danger btn-sm" (click)="onRemoveSpecialGuest(i)">Remove</button></td>
              <td>{{ guest.firstName }} {{ guest.lastName }} ({{ guest.personalNumber }})</td>
              <td>{{ guest.gender }}</td>
              <td>{{ guest.designation }}</td>
              <td>{{ guest.organization }}</td>
              <td>{{ guest.email }}</td>
              <td>{{ guest.city }}, {{ guest.state }}</td>
              <td>{{ guest.personalNumber }}</td>
              <td>{{ guest.contactPerson }} ({{ guest.contactPersonNumber }})</td>
              <td>{{ guest.referencePersonName }} ({{ guest.referenceVolunteerId }})</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="onClose()">Close</button>
</div>


